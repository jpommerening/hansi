/*! hansi - v0.1.0-alpha - 2014-06-01
* Copyright (c) 2014 Jonas Pommerening; Licensed MIT */
(function(){"use strict";"function"==typeof define&&define.amd})(function(){"use strict"}),function(t,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof exports&&"function"==typeof require?module.exports=n():(t.hansi===void 0&&(t.hansi={}),t.hansi.iter=n())}("undefined"==typeof window?this:window,function(){"use strict";function t(t){for(var n=t.split(";"),i=0;n.length>i;i++)n[i]=parseInt(n[i],10);return n}function n(t){return this instanceof n?(this.str=t||"",this.match=null,void 0):new n(t)}function i(t){var i=new n(t);return function(){return i.next.apply(i,arguments)}}var e=/(\0x1b[@-_])([0-?]*)([ -\/]*[@-~])/;return n.prototype={constructor:n,write:function(t){return t&&(this.str+=t),this},read:function(t){var n;return t===void 0?(n=this.str,this.str=""):(n=this.str.substring(0,t),this.str=this.str.substring(t)),n},next:function(n){var i;if(n&&this.write(n),!this.str)return null;if(!this.match){if(this.match=e.exec(this.str),!this.match)return this.read();if(this.match.index)return this.read(this.match.index)}if(this.match)return i={start:this.match[1],args:this.match[2]?t(this.match[2]):[],end:this.match[3],str:this.read(this.match[0].length)},this.match=null,i;throw Error("this code should never be reached")}},i.Iter=n,i}),function(t,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof exports&&"function"==typeof require?module.exports=n():(t.hansi===void 0&&(t.hansi={}),t.hansi.style=n())}("undefined"==typeof window?this:window,function(){"use strict";function t(t){var n=t[0];return"string"==typeof t[0]&&(n={},n[t[0]]=t[1]),n}function n(t){var n=t[0];return"string"==typeof t[0]&&(n=[],n[0]=t[0]),n}function i(t){return function(n){return function(){return t(this,n)}}}function e(t,n){return function(){return n(this.state,t(arguments)),this}}function r(t,n){for(var i in n)t[i]=n[i]}function o(t,n){for(var i=0;n.length>i;i++)delete t[n[i]]}function s(t,n){for(var i in n){var e=t[i]?t[i].indexOf(n[i]):-1;t[i]||(t[i]=[]),0>e&&t[i].push(n[i])}}function u(t,n){for(var i in n){var e=t[i]?t[i].indexOf(n[i]):-1;e>=0&&t[i].splice(e,1),"object"==typeof t[i]&&0===t[i].length&&delete t[i]}}function f(t){return this instanceof f?(this.state=t||{},void 0):new f(t)}function h(t){var n=new f(t);return function(){return n.next.apply(n,arguments)}}var c=i(r),a=i(o),d=i(s),p=i(u),l=[a(["font-weight","font-style","background-color","color","text-decoration","animation","animation-duration","visibility"]),c({"font-weight":"bold"}),c({"font-weight":"lighter"}),c({"font-style":"italic"}),d({"text-decoration":"underline"}),d({animation:"blink","animation-duration":.8}),d({animation:"blink","animation-duration":2.4}),function(){},c({visibility:"hidden"}),d({"text-decoration":"line-through"}),a(["font-weight"]),a(["font-weight"]),a(["font-style"]),p({"text-decoration":"line-through"}),p({animation:"blink"})];return f.prototype={constructor:f,set:e(t,r),unset:e(n,o),add:e(t,s),remove:e(t,u),apply:function(t){return t!==void 0&&t>=0&&this.styles.length>t&&this.styles[t].apply(this.state,arguments),this},next:function(){return this.apply.apply(this,arguments),this.state},styles:l},h.Style=f,h.styles=l,h}),function(t,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof exports&&"function"==typeof require?module.exports=n():(t.hansi===void 0&&(t.hansi={}),t.hansi.dom=n())}("undefined"==typeof window?this:window,function(){"use strict";function t(n){return this instanceof t?(this.elem=n,this.live=[],this.shadow=[],void 0):new t(n)}function n(n){var i=new t(n);return function(){return i.next.apply(i,arguments)}}return t.prototype={constructor:t},n.DOM=t,n}),function(t,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof exports&&"function"==typeof require?module.exports=n():(t.hansi===void 0&&(t.hansi={}),t.hansi.html=n())}("undefined"==typeof window?this:window,function(){"use strict";function t(n,i,e){return this instanceof t?(this.height=e.height||24,this.width=e.width||80,this.line=0,this.column=0,this.buffer=[],this.lines=[],this.offset=0,this.push(n,i),void 0):new t}function n(n){var i=new t(n);return function(t){return"object"==typeof t&&i.style(t),"string"==typeof t&&i.write(t),i.read()}}return t.prototype={constructor:t,push:function(t,n,i){return this.buffer.push({tag:t,style:n,str:i||""}),this},pop:function(){return this.buffer.pop()},detach:function(){var t=this.buffer,n=t[t.length-1];return this.buffer=[],this.push(n.tag,n.style),t},tag:function(t){var n=this.pop();return n.str&&this.push(n.name,n.props,n.str),this.push(t,n.props)},style:function(t){var n=this.pop();return n.str&&this.push(n.name,n.props,n.str),this.push(n.name,t)},write:function(t){return this.buffer[this.buffer.length-1].str+=t,this},read:function(t){return t===void 0||t>=this.buffer.length?this.detach():this.buffer.splice(0,t)}},n.HTML=t,n}),function(t,n,i){"use strict";if("object"==typeof t.navigator&&n.push("./browser"),"object"==typeof t.process&&t.process.version&&n.push("./node"),"function"==typeof define&&define.amd)define(n,i);else if("object"==typeof exports&&"function"==typeof require)module.exports=i.apply(t,n.map(require));else{for(var e=0;n.length>e;e++)n[e]="./"===n[e].substring(0,2)?t.hansi[n[e].substring(2)]:t[n[e]];t.hansi=i.apply(t,n)}}("undefined"==typeof window?this:window,["./iter","./style","./html"],function(t,n,i){"use strict";function e(t){return this instanceof e?(this.chunks=[],this.cursor={ln:0,ch:0},void 0):new e(t)}function r(t,n){return void 0===t?n:t}function o(t){this.cursor.ln-=r(t,1)}function s(t){this.cursor.ln+=r(t,1)}function u(t){this.cursor.ch+=r(t,1)}function f(t){this.cursor.ch-=r(t,1)}function h(t){this.cursor.ln+=r(t,1),this.cursor.ch=0}function c(t){this.cursor.ln-=r(t,1),this.cursor.ch=0}function a(t){this.cursor.ch=r(t,0)}function d(t,n){this.cursor.ln=t,this.cursor.ch=n}function p(){}function l(){}function y(){}function m(){}function v(){}function w(t){}function g(){}function b(){}function x(n){for(var i,e=t(n),r="";null!==(i=e());)"string"==typeof i&&(r+=i);return r}var j=d;return e.prototype={constructor:e,seq:{A:o,B:s,C:u,D:f,E:h,F:c,G:a,H:d,J:p,K:l,S:y,T:m,f:j,m:v,n:w,s:g,u:b,l:void 0,h:void 0}},x.Hansi=e,x.style=n,x.iter=t,x.html=i,x});