/*! hansi - v0.1.0-alpha - 2013-12-02
* Copyright (c) 2013 Jonas Pommerening; Licensed MIT */
!function(){"use strict";"function"==typeof define&&define.amd}(function(){"use strict"}),function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports&&"function"==typeof require?module.exports=b():("undefined"==typeof a.hansi&&(a.hansi={}),a.hansi.iter=b())}("undefined"==typeof window?this:window,function(){"use strict";function a(a){for(var b=a.split(";"),c=0;c<b.length;c++)b[c]=parseInt(b[c],10);return b}function b(a){return this instanceof b?(this.str=a||"",this.match=null,void 0):new b(a)}function c(a){var c=new b(a);return function(){return c.next.apply(c,arguments)}}var d=/(\0x1b[@-_])([0-?]*)([ -\/]*[@-~])/;return b.prototype={constructor:b,push:function(a){return a&&(this.str+=a),this},pop:function(a){var b;return"undefined"==typeof a?(b=this.str,this.str=""):(b=this.str.substring(0,a),this.str=this.str.substring(a)),b},next:function(b){var c;if(b&&this.push(b),!this.str)return null;if(!this.match){if(this.match=d.exec(this.str),!this.match)return this.pop();if(this.match.index)return this.pop(this.match.index)}if(this.match)return c={start:this.match[1],args:this.match[2]?a(this.match[2]):[],end:this.match[3],str:this.pop(this.match[0].length)},this.match=null,c;throw new Error("this code should never be reached")}},c.Iter=b,c}),function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports&&"function"==typeof require?module.exports=b():("undefined"==typeof a.hansi&&(a.hansi={}),a.hansi.style=b())}("undefined"==typeof window?this:window,function(){"use strict";function a(a){var b=a[0];return"string"==typeof a[0]&&(b={},b[a[0]]=a[1]),b}function b(a){var b=a[0];return"string"==typeof a[0]&&(b=[],b[0]=a[0]),b}function c(a){return function(b){return function(){return a(this,b)}}}function d(a,b){return function(){return b(this.state,a(arguments)),this}}function e(a,b){for(var c in b)a[c]=b[c]}function f(a,b){for(var c=0;c<b.length;c++)delete a[b[c]]}function g(a,b){for(var c in b)a[c]||(a[c]=[]),a[c].push(b[c])}function h(a,b){for(var c in b)b[c]in a[c]&&a[c].splice(a[c].indexOf(b[c])),a[c]||delete a[c]}function i(a){return this instanceof i?(this.state=a||{},void 0):new i(a)}function j(a){var b=new i(a);return function(){return b.next.apply(b,arguments)}}var k=c(e),l=c(f),m=c(g),n=c(h),o=[l(["font-weight","font-style","background-color","color","text-decoration","animation","animation-duration","visibility"]),k({"font-weight":"bold"}),k({"font-weight":"lighter"}),k({"font-style":"italic"}),m({"text-decoration":"underline"}),m({animation:"blink","animation-duration":.8}),m({animation:"blink","animation-duration":2.4}),function(){},k({visibility:"hidden"}),m({"text-decoration":"line-through"}),l(["font-weight"]),l(["font-weight"]),l(["font-style"]),n({"text-decoration":"line-through"}),n({animation:"blink"})];return i.prototype={constructor:i,set:d(a,e),unset:d(b,f),add:d(a,g),remove:d(a,h),apply:function(a){return"undefined"!=typeof a&&a>=0&&a<this.styles.length&&this.styles[a].apply(this.state,arguments),this},next:function(){return this.apply.apply(this,arguments),this.state},styles:o},j.Style=i,j.styles=o,j}),function(a,b,c){"use strict";if("object"==typeof a.navigator&&b.push("./browser"),"object"==typeof a.process&&a.process.version&&b.push("./node"),"function"==typeof define&&define.amd)define(b,c);else if("object"==typeof exports&&"function"==typeof require)module.exports=c.apply(a,b.map(require));else{for(var d=0;d<b.length;d++)b[d]="./"===b[d].substring(0,2)?a.hansi[b[d].substring(2)]:a[b[d]];a.hansi=c.apply(a,b)}}("undefined"==typeof window?this:window,["./iter","./style"],function(a,b){"use strict";function c(a){return this instanceof c?(this.chunks=[],this.cursor={ln:0,ch:0},void 0):new c(a)}function d(a,b){return void 0===a?b:a}function e(a){this.cursor.ln-=d(a,1)}function f(a){this.cursor.ln+=d(a,1)}function g(a){this.cursor.ch+=d(a,1)}function h(a){this.cursor.ch-=d(a,1)}function i(a){this.cursor.ln+=d(a,1),this.cursor.ch=0}function j(a){this.cursor.ln-=d(a,1),this.cursor.ch=0}function k(a){this.cursor.ch=d(a,0)}function l(a,b){this.cursor.ln=a,this.cursor.ch=b}function m(){}function n(){}function o(){}function p(){}function q(){}function r(a){}function s(){}function t(){}function u(b){for(var c,d=a(b),e="";null!==(c=d());)"string"==typeof c&&(e+=c);return e}var v=l;return c.prototype={constructor:c,seq:{A:e,B:f,C:g,D:h,E:i,F:j,G:k,H:l,J:m,K:n,S:o,T:p,f:v,m:q,n:r,s:s,u:t,l:void 0,h:void 0}},u.Hansi=c,u.style=b,u.iter=a,u});